{"ast":null,"code":"import _slicedToArray from\"/Users/shawtylow/Documents/Spring Semester 2021/SWE/ypool/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import\"./App.css\";import axios from\"axios\";import React,{useState,useEffect}from\"react\";import{BrowserRouter as Router,Switch,Route}from\"react-router-dom\";import Welcome from\"./components/pages/Welcome/Welcome\";import RequestForm from\"./components/pages/Request/RequestForm\";import RideStatus from\"./components/pages/RideStatus/RideStatus\";import UserRouting from\"./components/pages/UserRouting\";import RingLoader from\"react-spinners/RingLoader\";//console.log = console.warn = console.error = () => {};\n//Things to do\n//change data format on request form\n//add button on registration/request success to go back home\n//error checking on request form\n//alan didn't get an email???\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var App=function App(props){var netId={netId:props.flask_token};var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isRegistered=_useState2[0],setIsRegistered=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),userFirstName=_useState4[0],setFirstName=_useState4[1];var headers={\"api-key\":props.api_key};// API KEY for testing purposes: \"a333b39d-6ff7-4e54-9488-b8ec66d7a39d\"\nuseEffect(function(){axios.post(\"https://yalepool.com/is-registered\",netId,{headers:headers}).then(function(response){response=response.data;setIsRegistered(response.isRegistered);}).catch(function(error){console.log(error);});},[]);useEffect(function(){axios.post(\"https://yalepool.com/is-registered\",netId,{headers:headers}).then(function(response){response=response.data;setFirstName(response.firstName);}).catch(function(error){console.log(error);});},[]);var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),loading=_useState6[0],setLoading=_useState6[1];var style={position:\"fixed\",top:\"39%\",left:\"45%\",transform:\"translate(-50%, -50%)\"};useEffect(function(){setLoading(true);setTimeout(function(){setLoading(false);},1000);},[]);console.log(\"isRegistered response: \"+isRegistered);return/*#__PURE__*/_jsx(\"div\",{className:\"App\",children:loading?/*#__PURE__*/_jsx(\"div\",{style:style,children:/*#__PURE__*/_jsx(RingLoader,{size:150,color:\"#4A40FB\",loading:loading})}):/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsxs(Switch,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",exact:true,render:function render(){return/*#__PURE__*/_jsx(Welcome,{});}}),/*#__PURE__*/_jsx(Route,{path:\"/home\",exact:true,render:function render(){return/*#__PURE__*/_jsx(UserRouting,{flag:isRegistered,apiKey:props.api_key,netId:props.flask_token,firstName:userFirstName});}}),/*#__PURE__*/_jsx(Route,{path:\"/request\",exact:true,render:function render(){return/*#__PURE__*/_jsx(RequestForm,{apiKey:props.api_key,netId:props.flask_token});}}),/*#__PURE__*/_jsx(Route,{path:\"/ridestatus\",exact:true,render:function render(){return/*#__PURE__*/_jsx(RideStatus,{apiKey:props.api_key,netId:props.flask_token});}})]})})});};export default App;","map":{"version":3,"sources":["/Users/shawtylow/Documents/Spring Semester 2021/SWE/ypool/web/src/App.js"],"names":["axios","React","useState","useEffect","BrowserRouter","Router","Switch","Route","Welcome","RequestForm","RideStatus","UserRouting","RingLoader","App","props","netId","flask_token","isRegistered","setIsRegistered","userFirstName","setFirstName","headers","api_key","post","then","response","data","catch","error","console","log","firstName","loading","setLoading","style","position","top","left","transform","setTimeout"],"mappings":"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","sourcesContent":["import \"./App.css\";\nimport axios from \"axios\";\nimport React, { useState, useEffect } from \"react\";\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\nimport Welcome from \"./components/pages/Welcome/Welcome\";\nimport RequestForm from \"./components/pages/Request/RequestForm\";\nimport RideStatus from \"./components/pages/RideStatus/RideStatus\";\nimport UserRouting from \"./components/pages/UserRouting\";\nimport RingLoader from \"react-spinners/RingLoader\";\n//console.log = console.warn = console.error = () => {};\n\n//Things to do\n  //change data format on request form\n  //add button on registration/request success to go back home\n  //error checking on request form\n  //alan didn't get an email???\n\nconst App = (props) => {\n  const netId = { netId: props.flask_token };\n  const [isRegistered, setIsRegistered] = useState(false);\n  const [userFirstName, setFirstName] = useState(\"\");\n\n  const headers = {\n    \"api-key\": props.api_key,\n  };\n\n  // API KEY for testing purposes: \"a333b39d-6ff7-4e54-9488-b8ec66d7a39d\"\n  useEffect(() => {\n    axios\n      .post(\"https://yalepool.com/is-registered\", netId, {\n        headers: headers,\n      })\n      .then((response) => {\n        response = response.data;\n        setIsRegistered(response.isRegistered);\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  }, []);\n\n  useEffect(() => {\n    axios\n      .post(\"https://yalepool.com/is-registered\", netId, {\n        headers: headers,\n      })\n      .then((response) => {\n        response = response.data;\n        setFirstName(response.firstName);\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  }, []);\n\n  const [loading, setLoading] = useState(false);\n  const style = {\n    position: \"fixed\",\n    top: \"39%\",\n    left: \"45%\",\n    transform: \"translate(-50%, -50%)\",\n  };\n\n  useEffect(() => {\n    setLoading(true);\n    setTimeout(() => {\n      setLoading(false);\n    }, 1000);\n  }, []);\n  console.log(\"isRegistered response: \" + isRegistered);\n  return (\n    <div className=\"App\">\n      {loading ? (\n        <div style={style}>\n          <RingLoader size={150} color={\"#4A40FB\"} loading={loading} />\n        </div>\n      ) : (\n        <Router>\n          <Switch>\n            <Route path=\"/\" exact render={() => <Welcome />} />\n            <Route\n              path=\"/home\"\n              exact\n              render={() => (\n                <UserRouting\n                  flag={isRegistered}\n                  apiKey={props.api_key}\n                  netId={props.flask_token}\n                  firstName={userFirstName}\n                />\n              )}\n            />\n\n            <Route\n              path=\"/request\"\n              exact\n              render={() => (\n                <RequestForm apiKey={props.api_key} netId={props.flask_token} />\n              )}\n            />\n            <Route\n              path=\"/ridestatus\"\n              exact\n              render={() => (\n                <RideStatus apiKey={props.api_key} netId={props.flask_token} />\n              )}\n            />\n          </Switch>\n        </Router>\n      )}\n    </div>\n  );\n};\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}