{"ast":null,"code":"import _slicedToArray from\"/Users/jaredtruong/Desktop/Spring2021/ypool/git/ypool_frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import{FooterContainer}from'../../../containers/footer';import Navbar from'../../Navbar/Navbar';import axios from'axios';import{Button}from'../../Button/Button';import{useHistory}from\"react-router-dom\";import'./RideStatus.css';//Matched\n//ideally click here to view members\n//need to show who matched with, names and emails, check your email!\n//Awaitng Match\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function createMatchTable(matches){if(matches.length!=0){return/*#__PURE__*/_jsx(\"div\",{children:matches.map(function(trip){return/*#__PURE__*/_jsx(\"table\",{style:{border:\"1px solid blue\"},children:/*#__PURE__*/_jsx(\"tbody\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsxs(\"td\",{style:{textAlign:\"center\",paddingRight:\"50px\"},children:[/*#__PURE__*/_jsx(\"h2\",{children:trip.origin}),/*#__PURE__*/_jsx(\"p\",{children:\"-to-\"}),/*#__PURE__*/_jsx(\"h2\",{children:trip.destination})]}),/*#__PURE__*/_jsxs(\"td\",{style:{borderRight:\"1px solid blue\",width:\"700px\"},children:[/*#__PURE__*/_jsx(\"h3\",{children:trip.date}),/*#__PURE__*/_jsxs(\"h4\",{children:[\"Preferred Car Type: \",trip.preferred_car_type]})]}),/*#__PURE__*/_jsxs(\"td\",{style:{textAlign:\"center\"},children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Group Size\"}),/*#__PURE__*/_jsx(\"h2\",{children:trip.preferred_group_size})]}),/*#__PURE__*/_jsx(\"td\",{})]},trip.groupId)})},trip.groupId);})});}else{return/*#__PURE__*/_jsx(\"h2\",{children:\"No trips pending match!\"});}}function NotMatchedTrips(notMatched){var history=useHistory();var GoToRequest=function GoToRequest(e){e.preventDefault();history.push('request');};if(notMatched.length!=0){return/*#__PURE__*/_jsx(\"div\",{children:notMatched.map(function(trip){return/*#__PURE__*/_jsx(\"table\",{style:{border:\"1px solid blue\"},children:/*#__PURE__*/_jsx(\"tbody\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsxs(\"td\",{style:{textAlign:\"center\",padding:\"16px\"},children:[/*#__PURE__*/_jsx(\"h2\",{children:trip.origin}),/*#__PURE__*/_jsx(\"p\",{children:\"-to-\"}),/*#__PURE__*/_jsx(\"h2\",{children:trip.destination})]}),/*#__PURE__*/_jsxs(\"td\",{style:{borderRight:\"1px solid blue\",width:\"700px\"},children:[/*#__PURE__*/_jsx(\"h3\",{children:trip.date}),/*#__PURE__*/_jsxs(\"h4\",{children:[\"Preferred Car Type: \",trip.preferred_car_type]})]}),/*#__PURE__*/_jsxs(\"td\",{style:{textAlign:\"center\"},children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Group Size\"}),/*#__PURE__*/_jsx(\"h2\",{children:trip.preferred_group_size})]}),/*#__PURE__*/_jsx(\"td\",{})]},trip.groupId)})});})},-1);}else{return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{style:{textAlign:\"center\"},children:\"No Trips Awaiting Match\"}),/*#__PURE__*/_jsx(\"table\",{className:\"center_table\",children:/*#__PURE__*/_jsx(\"tbody\",{children:/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(Button,{onClick:GoToRequest,children:\"Click Here To Request A Ride\"})})})})},-1)]});}}var RideStatus=function RideStatus(props){console.log(props);var _useState=useState([]),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];useEffect(function(){var mounted=true;var data={'netId':props.netId};axios.post(\"https://yalepool.com/get-request-status\",data).then(function(response){if(mounted){setData(response.data);}}).catch(function(error){setData(error);});return function(){return mounted=false;};},[]);console.log(data);var matched=[];var notMatched=[];data.forEach(function(trip){if(trip.matched){matched.push(trip);}else{notMatched.push(trip);}});return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsxs(\"div\",{style:{alignItems:\"center\",paddingLeft:\"200px\",paddingRight:\"200px\",paddingTop:\"40px\",paddingBottom:\"64px\"},children:[/*#__PURE__*/_jsx(\"h1\",{style:{textAlign:\"left\",paddingBottom:\"10px\"},children:\"Matches\"}),createMatchTable(matched),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(\"h1\",{style:{textAlign:\"left\"},children:\"Awaiting Match\"}),NotMatchedTrips(notMatched)]}),/*#__PURE__*/_jsx(FooterContainer,{})]});};export default RideStatus;","map":{"version":3,"sources":["/Users/jaredtruong/Desktop/Spring2021/ypool/git/ypool_frontend/src/components/pages/RideStatus/RideStatus.js"],"names":["React","useEffect","useState","FooterContainer","Navbar","axios","Button","useHistory","createMatchTable","matches","length","map","trip","border","textAlign","paddingRight","origin","destination","borderRight","width","date","preferred_car_type","preferred_group_size","groupId","NotMatchedTrips","notMatched","history","GoToRequest","e","preventDefault","push","padding","RideStatus","props","console","log","data","setData","mounted","netId","post","then","response","catch","error","matched","forEach","alignItems","paddingLeft","paddingTop","paddingBottom"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { FooterContainer } from '../../../containers/footer';\nimport Navbar from '../../Navbar/Navbar';\nimport axios from 'axios';\nimport {Button} from '../../Button/Button';\nimport { useHistory } from \"react-router-dom\";\nimport './RideStatus.css';\n\n//Matched\n    //ideally click here to view members\n    //need to show who matched with, names and emails, check your email!\n//Awaitng Match\n\nfunction createMatchTable(matches){\n    if(matches.length != 0){\n        return(\n            <div>\n            {matches.map(trip =>\n                <table style={{border: \"1px solid blue\"}} key={trip.groupId}>\n                    <tbody>\n                        <tr key={trip.groupId}>\n                                <td style={{textAlign:\"center\", paddingRight:\"50px\"}}>\n                                    <h2>{trip.origin}</h2>\n                                    <p>-to-</p>\n                                    <h2>{trip.destination}</h2>\n                                </td>\n                                <td style={{borderRight: \"1px solid blue\", width: \"700px\"}}>\n                                    <h3>{trip.date}</h3>\n                                    <h4>Preferred Car Type: {trip.preferred_car_type}</h4>\n                                </td>\n                                <td style={{textAlign:\"center\"}}>\n                                    <h1>Group Size</h1>\n                                    <h2>{trip.preferred_group_size}</h2>\n                                </td>\n                                <td>\n\n                                </td>\n                        </tr>\n                    </tbody>\n                </table>\n            )}\n            </div>\n        )\n    }\n    else{\n        return(\n            <h2>No trips pending match!</h2>\n        )\n    }\n}\n\nfunction NotMatchedTrips(notMatched) {\n    const history = useHistory();\n    const GoToRequest = (e) =>{\n        e.preventDefault();\n        history.push('request')\n    }\n    if(notMatched.length != 0){\n        return (\n            <div key={-1}>\n            {notMatched.map(trip =>\n                <table style={{border: \"1px solid blue\"}}>\n                    <tbody>\n                        <tr key={trip.groupId}>\n                                <td style={{textAlign:\"center\", padding:\"16px\"}}>\n                                    <h2>{trip.origin}</h2>\n                                    <p>-to-</p>\n                                    <h2>{trip.destination}</h2>\n                                </td>\n                                <td style={{borderRight: \"1px solid blue\", width: \"700px\"}}>\n                                    <h3>{trip.date}</h3>\n                                    <h4>Preferred Car Type: {trip.preferred_car_type}</h4>\n                                </td>\n                                <td style={{textAlign:\"center\"}}>\n                                    <h1>Group Size</h1>\n                                    <h2>{trip.preferred_group_size}</h2>\n                                </td>\n                                <td>\n\n                                </td>\n                        </tr>\n                    </tbody>\n                </table>\n            )}\n            </div>\n        )\n    }\n    else{\n        return(\n            <div>\n            <h3 style={{textAlign:\"center\"}}>No Trips Awaiting Match</h3>\n            <table className='center_table' key={-1}>\n                <tbody>\n                    <tr>\n                        <th>\n                        <Button onClick={GoToRequest}>Click Here To Request A Ride</Button>\n                        </th>\n                    </tr>\n                </tbody>\n            </table>\n            </div>\n        )\n    }\n}\n\nconst RideStatus = (props) => {\n    console.log(props)\n    const [data, setData] = useState([]);\n\n    useEffect(() =>{\n        let mounted = true;\n        let data = {'netId': props.netId}\n        axios.post(\"https://yalepool.com/get-request-status\", data)\n            .then(response => {\n                if(mounted){\n                    setData(response.data)\n                }\n            })\n            .catch(error => {\n                setData(error)\n            })\n            return () => mounted = false;\n    }, [])\n    console.log(data)\n    var matched = []\n    var notMatched = []\n    data.forEach(trip => {\n        if(trip.matched){\n            matched.push(trip)\n        }\n        else{\n            notMatched.push(trip)\n        }\n    })\n    return(\n        <div>\n            <Navbar />\n                <div style={{alignItems:\"center\", paddingLeft: \"200px\", paddingRight: \"200px\", paddingTop: \"40px\", paddingBottom: \"64px\"}}>\n                    <h1 style={{textAlign:\"left\", paddingBottom:\"10px\"}}>Matches</h1>\n                    {createMatchTable(matched)}\n                    <hr/>\n                    <h1 style={{textAlign:\"left\"}}>Awaiting Match</h1>\n                    {NotMatchedTrips(notMatched)}\n                </div>\n            <FooterContainer />\n        </div>\n    )\n}\nexport default RideStatus"]},"metadata":{},"sourceType":"module"}