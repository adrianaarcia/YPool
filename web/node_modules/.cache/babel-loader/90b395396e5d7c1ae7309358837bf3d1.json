{"ast":null,"code":"import _slicedToArray from\"/Users/jaredtruong/Desktop/Spring2021/ypool/git/ypool/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import\"./App.css\";import axios from\"axios\";import React,{useState,useEffect}from\"react\";import{BrowserRouter as Router,Switch,Route}from\"react-router-dom\";import Welcome from\"./components/pages/Welcome/Welcome\";import RequestForm from\"./components/pages/Request/RequestForm\";import RideStatus from\"./components/pages/RideStatus/RideStatus\";import UserRouting from\"./components/pages/UserRouting\";import RingLoader from\"react-spinners/RingLoader\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";console.warn=console.error=function(){};var App=function App(props){var netId={netId:props.flask_token};var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isRegistered=_useState2[0],setIsRegistered=_useState2[1];var headers={\"api-key\":props.api_key};// API KEY for testing purposes: \"a333b39d-6ff7-4e54-9488-b8ec66d7a39d\"\nuseEffect(function(){axios.post(\"https://yalepool.com/is-registered\",netId,{headers:headers}).then(function(response){response=response.data;setIsRegistered(response.isRegistered);}).catch(function(error){console.log(error);});},[]);var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];var style={position:\"fixed\",top:\"39%\",left:\"45%\",transform:\"translate(-50%, -50%)\"};useEffect(function(){setLoading(true);setTimeout(function(){setLoading(false);},500);},[]);console.log(\"isRegistered response: \"+isRegistered);return/*#__PURE__*/_jsx(\"div\",{className:\"App\",children:loading?/*#__PURE__*/_jsx(\"div\",{style:style,children:/*#__PURE__*/_jsx(RingLoader,{size:150,color:\"#4A40FB\",loading:loading})}):/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsxs(Switch,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",exact:true,render:function render(){return/*#__PURE__*/_jsx(Welcome,{});}}),/*#__PURE__*/_jsx(Route,{path:\"/home\",exact:true,render:function render(){return/*#__PURE__*/_jsx(UserRouting,{flag:isRegistered,apiKey:props.api_key,netId:props.flask_token});}}),/*#__PURE__*/_jsx(Route,{path:\"/request\",exact:true,render:function render(){return/*#__PURE__*/_jsx(RequestForm,{apiKey:props.api_key,netId:props.flask_token});}}),/*#__PURE__*/_jsx(Route,{path:\"/ridestatus\",exact:true,render:function render(){return/*#__PURE__*/_jsx(RideStatus,{apiKey:props.api_key,netId:props.flask_token});}})]})})});};export default App;","map":{"version":3,"sources":["/Users/jaredtruong/Desktop/Spring2021/ypool/git/ypool/web/src/App.js"],"names":["axios","React","useState","useEffect","BrowserRouter","Router","Switch","Route","Welcome","RequestForm","RideStatus","UserRouting","RingLoader","console","warn","error","App","props","netId","flask_token","isRegistered","setIsRegistered","headers","api_key","post","then","response","data","catch","log","loading","setLoading","style","position","top","left","transform","setTimeout"],"mappings":"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","sourcesContent":["import \"./App.css\";\nimport axios from \"axios\";\nimport React, { useState, useEffect } from \"react\";\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\nimport Welcome from \"./components/pages/Welcome/Welcome\";\nimport RequestForm from \"./components/pages/Request/RequestForm\";\nimport RideStatus from \"./components/pages/RideStatus/RideStatus\";\nimport UserRouting from \"./components/pages/UserRouting\";\nimport RingLoader from \"react-spinners/RingLoader\";\nconsole.warn = console.error = () => {};\n\nconst App = (props) => {\n  const netId = { netId: props.flask_token };\n  const [isRegistered, setIsRegistered] = useState(false);\n\n  const headers = {\n    \"api-key\": props.api_key,\n  };\n\n  // API KEY for testing purposes: \"a333b39d-6ff7-4e54-9488-b8ec66d7a39d\"\n\n  useEffect(() => {\n    axios\n      .post(\"https://yalepool.com/is-registered\", netId, {\n        headers: headers,\n      })\n      .then((response) => {\n        response = response.data;\n        setIsRegistered(response.isRegistered);\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  }, []);\n\n  const [loading, setLoading] = useState(false);\n  const style = {\n    position: \"fixed\",\n    top: \"39%\",\n    left: \"45%\",\n    transform: \"translate(-50%, -50%)\",\n  };\n\n  useEffect(() => {\n    setLoading(true);\n    setTimeout(() => {\n      setLoading(false);\n    }, 500);\n  }, []);\n  console.log(\"isRegistered response: \" + isRegistered);\n  return (\n    <div className=\"App\">\n      {loading ? (\n        <div style={style}>\n          <RingLoader size={150} color={\"#4A40FB\"} loading={loading} />\n        </div>\n      ) : (\n        <Router>\n          <Switch>\n            <Route path=\"/\" exact render={() => <Welcome />} />\n            <Route\n              path=\"/home\"\n              exact\n              render={() => (\n                <UserRouting\n                  flag={isRegistered}\n                  apiKey={props.api_key}\n                  netId={props.flask_token}\n                />\n              )}\n            />\n\n            <Route\n              path=\"/request\"\n              exact\n              render={() => (\n                <RequestForm apiKey={props.api_key} netId={props.flask_token} />\n              )}\n            />\n            <Route\n              path=\"/ridestatus\"\n              exact\n              render={() => (\n                <RideStatus apiKey={props.api_key} netId={props.flask_token} />\n              )}\n            />\n          </Switch>\n        </Router>\n      )}\n    </div>\n  );\n};\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}